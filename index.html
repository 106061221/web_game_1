<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEON CASINO - BLACKJACK</title>
    <style>
        /* --- RESET & BASE --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background-color: #000;
            color: #fff;
            font-family: 'Segoe UI', Arial, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* --- NEON UI --- */
        .neon-title {
            font-size: 3.5rem;
            color: #000;
            -webkit-text-stroke: 1px #0ff;
            text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
            letter-spacing: 10px;
            margin-bottom: 2rem;
            text-align: center;
        }

        button {
            background: transparent;
            border: 1px solid #ff00ff;
            color: #ff00ff;
            padding: 12px 30px;
            cursor: pointer;
            font-size: 1rem;
            letter-spacing: 2px;
            transition: 0.3s;
            text-transform: uppercase;
        }
        button:hover {
            background: #ff00ff;
            color: #000;
            box-shadow: 0 0 15px #ff00ff;
        }
        button:disabled {
            border-color: #444;
            color: #444;
            cursor: not-allowed;
        }

        /* --- SCREENS --- */
        #menu-screen, #game-screen {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #000;
        }
        .hidden { display: none !important; }

        /* --- GAME LAYOUT --- */
        .top-hud {
            position: absolute;
            top: 20px;
            width: 90%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #222;
            padding-bottom: 10px;
        }
        .money-label { color: #0ff; font-size: 1.2rem; }

        .table {
            display: flex;
            flex-direction: column;
            gap: 50px;
            width: 100%;
            align-items: center;
        }

        .hand-label {
            font-size: 0.8rem;
            letter-spacing: 3px;
            color: #666;
            margin-bottom: 10px;
            text-align: center;
        }

        /* --- NEON CARDS --- */
        .cards-row { display: flex; gap: 10px; min-height: 90px; }
        .card {
            width: 60px;
            height: 85px;
            background: #111;
            border: 1px solid #fff;
            border-radius: 4px;
            position: relative;
            box-shadow: 0 0 5px rgba(255,255,255,0.2);
        }
        .card.cyan { border-color: #0ff; box-shadow: 0 0 8px #0ff; color: #0ff; }
        .card.magenta { border-color: #f0f; box-shadow: 0 0 8px #f0f; color: #f0f; }

        .card-value {
            position: absolute;
            top: 3px;
            left: 5px;
            font-size: 14px;
            font-weight: bold;
            line-height: 1;
            text-align: center;
        }
        .card-suit { font-size: 12px; margin-top: 2px; }

        .card-back { background: #222; border-color: #444; }

        /* --- CONTROL PANEL --- */
        .controls {
            position: absolute;
            bottom: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        .msg-box { height: 20px; font-size: 1.1rem; letter-spacing: 1px; }
        .bet-input {
            background: transparent;
            border: 1px solid #0ff;
            color: #0ff;
            padding: 8px;
            width: 80px;
            text-align: center;
            font-size: 1.1rem;
            outline: none;
        }
    </style>
</head>
<body>

    <div id="menu-screen">
        <h1 class="neon-title">NEON<br>CASINO</h1>
        <button onclick="showGame()">Blackjack</button>
    </div>

    <div id="game-screen" class="hidden">
        <div class="top-hud">
            <div class="money-label">BALANCE: $<span id="ui-money">1000</span></div>
            <button onclick="exitToMenu()" style="font-size: 0.7rem; border-color: #444; color: #666;">EXIT</button>
        </div>

        <div class="table">
            <div class="hand-area">
                <div class="hand-label">DEALER <span id="ui-d-score"></span></div>
                <div id="dealer-cards" class="cards-row"></div>
            </div>

            <div class="hand-area">
                <div id="player-cards" class="cards-row"></div>
                <div class="hand-label" style="margin-top:10px;">PLAYER <span id="ui-p-score"></span></div>
            </div>
        </div>

        <div class="controls">
            <div id="ui-msg" class="msg-box"></div>
            
            <div id="bet-ui">
                <input type="number" id="bet-val" class="bet-input" value="100" step="10">
                <button onclick="handleDeal()" style="border-color:#0ff; color:#0ff;">DEAL</button>
            </div>

            <div id="action-ui" class="hidden">
                <button onclick="handleHit()">HIT</button>
                <button onclick="handleStand()" style="border-color:#0ff; color:#0ff;">STAND</button>
            </div>
        </div>
    </div>

<script>
    // --- DATA ---
    let money = 1000;
    let deck = [], pHand = [], dHand = [], bet = 0;
    let isPlaying = false;

    const SUITS = [
        { s: '♠', c: 'cyan' }, { s: '♣', c: 'cyan' },
        { s: '♥', c: 'magenta' }, { s: '♦', c: 'magenta' }
    ];
    const VALS = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];

    // --- LOGIC ---
    function showGame() {
        document.getElementById('menu-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        resetTable();
    }

    function exitToMenu() {
        if (isPlaying) return;
        document.getElementById('game-screen').classList.add('hidden');
        document.getElementById('menu-screen').classList.remove('hidden');
    }

    function resetTable() {
        pHand = []; dHand = [];
        document.getElementById('player-cards').innerHTML = '';
        document.getElementById('dealer-cards').innerHTML = '';
        document.getElementById('ui-p-score').innerText = '';
        document.getElementById('ui-d-score').innerText = '';
        document.getElementById('ui-msg').innerText = 'PLACE YOUR BET';
        document.getElementById('ui-msg').style.color = '#fff';
        document.getElementById('bet-ui').classList.remove('hidden');
        document.getElementById('action-ui').classList.add('hidden');
    }

    function createDeck() {
        deck = [];
        for (let suit of SUITS) {
            for (let v of VALS) {
                let w = parseInt(v);
                if (['J','Q','K'].includes(v)) w = 10;
                if (v === 'A') w = 11;
                deck.push({ v, s: suit.s, color: suit.c, w });
            }
        }
        deck.sort(() => Math.random() - 0.5);
    }

    function getScore(hand) {
        let s = hand.reduce((sum, c) => sum + c.w, 0);
        let aces = hand.filter(c => c.v === 'A').length;
        while (s > 21 && aces > 0) { s -= 10; aces--; }
        return s;
    }

    function renderCard(card, container, isHidden = false) {
        const div = document.createElement('div');
        div.className = `card ${isHidden ? 'card-back' : card.color}`;
        if (!isHidden) {
            div.innerHTML = `<div class="card-value">${card.v}<br><span class="card-suit">${card.s}</span></div>`;
        }
        container.appendChild(div);
    }

    // --- ACTIONS ---
    function handleDeal() {
        const input = document.getElementById('bet-val');
        const val = parseInt(input.value);
        if (val > money || val <= 0) {
            document.getElementById('ui-msg').innerText = 'INVALID AMOUNT';
            return;
        }

        bet = val;
        money -= bet;
        document.getElementById('ui-money').innerText = money;
        isPlaying = true;

        createDeck();
        pHand = [deck.pop(), deck.pop()];
        dHand = [deck.pop(), deck.pop()];

        document.getElementById('bet-ui').classList.add('hidden');
        document.getElementById('action-ui').classList.remove('hidden');
        document.getElementById('ui-msg').innerText = '';

        renderCard(pHand[0], document.getElementById('player-cards'));
        renderCard(pHand[1], document.getElementById('player-cards'));
        renderCard(dHand[0], document.getElementById('dealer-cards'));
        renderCard(null, document.getElementById('dealer-cards'), true);

        document.getElementById('ui-p-score').innerText = getScore(pHand);
        if (getScore(pHand) === 21) handleStand();
    }

    function handleHit() {
        const c = deck.pop();
        pHand.push(c);
        renderCard(c, document.getElementById('player-cards'));
        const s = getScore(pHand);
        document.getElementById('ui-p-score').innerText = s;
        if (s > 21) resolveGame('BUST');
    }

    function handleStand() {
        document.getElementById('action-ui').classList.add('hidden');
        const dRow = document.getElementById('dealer-cards');
        dRow.innerHTML = '';
        renderCard(dHand[0], dRow);
        renderCard(dHand[1], dRow);

        let s = getScore(dHand);
        const draw = () => {
            s = getScore(dHand);
            document.getElementById('ui-d-score').innerText = s;
            if (s < 17) {
                const c = deck.pop();
                dHand.push(c);
                renderCard(c, dRow);
                setTimeout(draw, 500);
            } else {
                checkWinner();
            }
        };
        draw();
    }

    function checkWinner() {
        const ps = getScore(pHand);
        const ds = getScore(dHand);
        if (ds > 21) resolveGame('WIN');
        else if (ps > ds) resolveGame('WIN');
        else if (ps < ds) resolveGame('LOSE');
        else resolveGame('PUSH');
    }

    function resolveGame(res) {
        isPlaying = false;
        const msg = document.getElementById('ui-msg');
        if (res === 'WIN') {
            money += bet * 2;
            msg.innerText = 'YOU WIN';
            msg.style.color = '#0ff';
        } else if (res === 'BUST' || res === 'LOSE') {
            msg.innerText = res === 'BUST' ? 'PLAYER BUST' : 'DEALER WINS';
            msg.style.color = '#f0f';
        } else {
            money += bet;
            msg.innerText = 'PUSH';
            msg.style.color = '#fff';
        }
        document.getElementById('ui-money').innerText = money;
        setTimeout(resetTable, 2500);
    }
</script>
</body>
</html>
